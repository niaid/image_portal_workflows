

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Small 2D Workflow (EM Microscopy) &mdash; Image Portal Workflows  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Image Portal Workflows
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Project Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Submitting Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc.html">RML HPC (Big Sky)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prefect.html">Managing Prefect Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prefect.html#managing-prefect-worker">Managing Prefect Worker</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Image Portal Workflows</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Small 2D Workflow (EM Microscopy)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/workflows/2d_EM.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="small-2d-workflow-em-microscopy">
<h1>Small 2D Workflow (EM Microscopy)<a class="headerlink" href="#small-2d-workflow-em-microscopy" title="Link to this heading"></a></h1>
<p>Overview:</p>
<p>This workflow generates a thumbnail and a key images for each input image in a directory. Specific EM file formats
use enhanced resampling and filtering techniques to reduce noise while adjusting the dynamic range of the images. This
workflow originally was designed to handle DM3 files from TEM or STEM microscopes but has been extended to handle
other 2D image file formats, including MRC, TIFF files and color figures.</p>
<dl>
<dt>Outputs:</dt><dd><ol class="arabic simple">
<li><p>A thumbnail image for each input image.</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>An JPEG image with a maximum size of 300 pixels in both dimension.</p></li>
<li><p>The aspect ratio is preserved and may be shortened to fit within the maximum size without padding.</p></li>
<li><p>The image may be 8-bit RGB(A) or 8-bit gray-scale.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>A key image for each input image.</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Similar to the thumbnail image but with a maximum size of 1024 pixels in both dimension.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
<p>The toolbox of <a class="reference external" href="https://bio3d.colorado.edu/imod/">IMOD</a> is used primarily to process the EM images, along with <a class="reference external" href="https://simpleitk.readthedocs.io/">SimpleITK</a> for additional image
processing tasks.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Summary of Input Image Types</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Format Type</p></th>
<th class="head"><p>Pixel Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Processing Information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>JPEG, PNG, TIFF</p></td>
<td><p>8-bit RGB (palette) or RGBA</p></td>
<td><p>Example images include figure, TEM grid image or other illustrative images rendered into a color image.</p></td>
<td><p>Images should directly resized without intensity scaling or advanced filtering.</p></td>
</tr>
<tr class="row-odd"><td><p>TIFF, PNG, JPEG</p></td>
<td><p>8-bit gray-scale</p></td>
<td><p>Images may be rendered EM images with captions or annotations.</p></td>
<td><p>Images should directly resized without intensity scaling or advanced filtering.</p></td>
</tr>
<tr class="row-even"><td><p>TIFF</p></td>
<td><p>16-bit (signed or unsigned) gray-scale</p></td>
<td><p>EM images with a high dynamic range.</p></td>
<td><p>Use IMOD’s <a class="reference external" href="https://bio3d.colorado.edu/doc/man/newstack.html">newstack</a> tool to resample, filter, and scale intensities to 8-bit.</p></td>
</tr>
<tr class="row-odd"><td><p>DM4 or DM3 Images</p></td>
<td><p>32-bit float (after MRC conversion)</p></td>
<td><p>Minimally processed EM images with a high dynamic range.</p></td>
<td><p>Convert to MRC via <a class="reference external" href="https://bio3d.colorado.edu/imod/doc/man/dm2mrc.html">dm2mrc</a> command to 32-bit float MRC files, then use newstack to resample, filter, and scale
intensities to 8-bit TIFF.</p></td>
</tr>
<tr class="row-even"><td><p>MRC (2D only)</p></td>
<td><p>32-bit float ( no other current sample inputs )</p></td>
<td><p>Expected EM images with likely high dynamic range.</p></td>
<td><p>Convert to 8-bit TIFF via <a class="reference external" href="https://bio3d.colorado.edu/doc/man/newstack.html">newstack</a> command to resample, filter, and scale intensities to 8-bit.</p></td>
</tr>
</tbody>
</table>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, NIAID.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>